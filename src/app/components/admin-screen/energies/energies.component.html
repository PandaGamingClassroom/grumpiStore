<div class="container bg-box">
  <div class="container">
    <div class="row">
      <div class="col main-box design-column">
        <div class="row">
          <div class="col">
            <h2>Lista de energías</h2>
          </div>
        </div>

        <div class="container creatures-box">
          <div class="img-creature" *ngFor="let imageUrl of energies">
            <div class="row">
              <div class="col">
                <img srcset="{{imageUrl.imagen}}" alt="{{imageUrl.nombre}}" (contextmenu)="disableRightClick($event)"/>
              </div>
              <div class="col">
                <form
                  [formGroup]="myForm"
                  (ngSubmit)="assignEnergies()"
                  (change)="onFileSelected($event)"
                >
                  <div class="row mt-3">
                    <div class="col">
                      <label for="cantidad" class="form-label"
                        ><strong>Cantidad de energías para asignar:</strong></label
                      >
                    </div>
                    <div class="col">
                      <input
                        type="number"
                        id="cantidad"
                        formControlName="cantidad"
                        min="1"
                        value="1"
                      />
                    </div>
                  </div>

                  <button
                    type="button"
                    class="btn btn-success mt-2"
                    (click)="selectedEnergie = imageUrl; openTrainers()"
                  >
                    Asignar a
                  </button>
                </form>
              </div>
            </div>
          </div>
          <hr />
        </div>
      </div>
      <div class="col form-group main-box" *ngIf="isAdminUser">
        <h2>Añadir una energía nueva</h2>
        <form
          [formGroup]="myForm"
          (ngSubmit)="assignEnergies()"
          (change)="onFileSelected($event)"
        >
          <div class="row">
            <div class="col">
              <label for="imagen" class="form-label"
                ><strong>Energía:</strong></label
              >
            </div>
            <div class="col">
              <input
                type="file"
                id="imagen"
                name="imagen"
                required
                formControlName="imagen"
              />
            </div>
          </div>
          <hr />
          <div class="container mt-3 d-flex justify-content-center">
            <button type="submit" class="btn btn-success">Guardar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
